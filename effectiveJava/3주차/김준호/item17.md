# 아이템 17. 변경 가능성을 최소화하라

> 불변 클래스란 인스턴스의 내부 값을 수정할 수 없는 클래스다. 불변 클래스는 가변 클래스보다 설계하고 구현하기 쉬우며, 오류가 생길 여지도 적고 훨씬 안전하다. 불변 객체는 단순하며 생성된 시점의 상태를 파괴될 때까지 그대로 간직한다.

## 불변 클래스 5가지 규칙
- 객체의 상태를 변경하는 메서드(setter)를 제공하지 않는다.
- 클래스를 확장할 수 없게 한다. (extend x)
- 모든 필드를 final로 선언한다
- 모든 필드를 private으로 선언한다. (아이템 15, 아이템 16)
- 자신 외에는 내부의 가변 컴포넌트에 접근할 수 없도록 한다. 
   - readObject 메서드는 방어적으로 복사하라 (아이템 88)

---

### 불변 객체의 장점들

- 근본적으로 스레드 안전하여 따로 동기화 할 필요가 없다.

- 불변객체는 안심하고 공유할 수 있고, 불변 객체끼리는 내부 데이터도 공유할 수 있다.

- 불변 객체는 그 자체로 실패 원자성을 제공한다. (불변 객체의 메서드는 내부 상태를 바꾸지 않으니..)

---

- 생성자는 불변식 설정이 모두 완료된, 초기화가 완벽히 끝난 상태의 객체를 생성해야 한다.
- 정적 팩토리 메서드 외에는 그 어떤 초기화 메서드도 public으로 제공해서는 안된다.

[이펙티브 자바 3판]